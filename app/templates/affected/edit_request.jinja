{% extends "base.jinja" %}

{% block title %}{{ _("Edit Request") }}{% endblock %}

{% block content %}
<div class="container mt-2">
  <header class="text-center">
    <h1>{{ _("Edit Request for") }} {{ request.name }}</h1>
  </header>

  <div class="row justify-content-center">
    <div class="col-md-6">
      <form method="post">
        <fieldset>
          <div class="form-group">
            <label for="name">{{ _("Request Name:") }}</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ request.name }}"
              placeholder="{{ _('Request Name') }}" required>
          </div>

          <div class="form-group">
            <label for="needs">{{ _("Needs:") }}</label>
            <select class="form-control" id="needs" name="needs" required>
              {% for item in ItemDonationType %}
                <option value="{{ item.name }}" {% if request.needs.name == item.name %}selected{% endif %}>{{ item.value }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="form-group">
            <label for="quantity">{{ _("Quantity:") }}</label>
            <input type="number" class="form-control" id="quantity" name="quantity" placeholder="{{ _('Quantity') }}" required>
          </div>


          <h3 class="mt-4">{{ _("Address") }}</h3>
          <div class="form-group">
            <label for="street">{{ _("Street:") }}</label>
            <input type="text" class="form-control" id="street" name="street" value="{{ request.req_address.street }}"
              placeholder="{{ _('Street') }}" required>
          </div>

          <div class="form-group">
            <label for="street_number">{{ _("Street Number:") }}</label>
            <input type="text" class="form-control" id="street_number" name="street_number"
              value="{{ request.req_address.street_number }}" placeholder="{{ _('Street Number') }}" required>
          </div>

          <div class="form-group">
            <label for="city">{{ _("City:") }}</label>
            <input type="text" class="form-control" id="city" name="city" value="{{ request.req_address.city }}"
              placeholder="{{ _('City') }}" required>
          </div>

          <div class="form-group">
            <label for="voivodeship">{{ _("Voivodeship:") }}</label>
            <input type="text" class="form-control" id="voivodeship" name="voivodeship"
              value="{{ request.req_address.voivodeship }}" placeholder="{{ _('Voivodeship') }}" required>
          </div>

          <div class="mt-3 text-center">
            <button type="submit" class="btn btn-primary">{{ _("Update Request") }}</button>
          </div>
        </fieldset>
      </form>

      <div class="text-center mt-3">
        <a href="{{ url_for('affected.affected_details', affected_id=request.affected_id) }}"
          class="btn btn-secondary">{{ _("Back to Details") }}</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}